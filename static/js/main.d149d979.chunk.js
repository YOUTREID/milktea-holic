(this["webpackJsonplogin-register-react"]=this["webpackJsonplogin-register-react"]||[]).push([[0],{101:function(e,t,a){e.exports=a(167)},109:function(e,t,a){},110:function(e,t,a){},152:function(e,t,a){},161:function(e,t,a){},162:function(e,t,a){},164:function(e,t,a){},165:function(e,t,a){},167:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),r=a(26),c=a.n(r),o=(a(71),a(56)),i=a(14),s=a(85),u=a.n(s),m=a(86),d=a.n(m),h=a(87),g=a.n(h),f=a(194),E=a(193);var p=function(e){return l.a.createElement("div",null,l.a.createElement(f.a,{bg:"light",variant:"light"},l.a.createElement(f.a.Brand,{href:"/".concat(e.name)},e.name),l.a.createElement(E.a,{className:"mr-auto"},l.a.createElement(E.a.Link,{href:"/"},"Home"),l.a.createElement(E.a.Link,{href:"/login"},"Login"),l.a.createElement(E.a.Link,{href:"/profile"},"Profile"),l.a.createElement(E.a.Link,{href:"/menu"},"Menu"),l.a.createElement(E.a.Link,{href:"/recipe"},"Recipe"),l.a.createElement(E.a.Link,{href:"/add"},"Add Recipe"),l.a.createElement(E.a.Link,{href:"/search"},"Recipe Online"))))},v=a(187),b=a(197),S=a(188);var C=function(){return l.a.createElement("div",null,l.a.createElement(p,{name:"home"}),l.a.createElement("div",{className:"container-fluid mt-4"},l.a.createElement(v.a,null,l.a.createElement(b.a,{style:{backgroundColor:"rgba(255, 255, 255, 0.8)",width:"15rem"}},l.a.createElement(b.a.Img,{variant:"top",src:u.a}),l.a.createElement(b.a.Body,null,l.a.createElement(b.a.Title,null,"Card Title"),l.a.createElement(b.a.Text,null,"Some quick example text to build on the card title and make up the bulk of the card's content."),l.a.createElement(S.a,{variant:"primary"},"Go somewhere"))),l.a.createElement(b.a,{style:{backgroundColor:"rgba(255, 255, 255, 0.8)",width:"15rem"}},l.a.createElement(b.a.Img,{variant:"top",src:d.a}),l.a.createElement(b.a.Body,null,l.a.createElement(b.a.Title,null,"Card Title"),l.a.createElement(b.a.Text,null,"Some quick example text to build on the card title and make up the bulk of the card's content."),l.a.createElement(S.a,{variant:"primary"},"Go somewhere"))),l.a.createElement(b.a,{style:{backgroundColor:"rgba(255, 255, 255, 0.8)",width:"15rem"}},l.a.createElement(b.a.Img,{variant:"top",src:g.a}),l.a.createElement(b.a.Body,null,l.a.createElement(b.a.Title,null,"Card Title"),l.a.createElement(b.a.Text,null,"Some quick example text to build on the card title and make up the bulk of the card's content."),l.a.createElement(S.a,{variant:"primary"},"Go somewhere"))))))},y=a(20),k=a(9),O=a(10),x=a(12),j=a(11),N=(a(109),a(110),a(37)),w=a.n(N),L=function(e){Object(x.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(k.a)(this,a),(n=t.call(this,e)).handlePasswordChange=function(e){n.setState({password:e.target.value})},n.state={password:""},n}return Object(O.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"base-container",ref:this.props.containerRef},l.a.createElement("div",{className:"content"},l.a.createElement("div",{className:"image"},l.a.createElement("img",{alt:"icon",src:w.a})),l.a.createElement("div",{className:"form"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"username"},"Username"),l.a.createElement("input",{type:"text",name:"username",placeholder:"username",value:this.props.username,onChange:this.props.handleLoginChange})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"password"},"Password"),l.a.createElement("input",{type:"password",name:"password",placeholder:"password",onChange:this.handlePasswordChange,value:this.state.password})))),l.a.createElement("div",null,l.a.createElement("button",{type:"submit",className:"btn",onClick:function(t){return e.props.handleLogin(t,{username:e.props.username,password:e.state.password})}},"Login")))}}]),a}(l.a.Component),I=a(8),R=a.n(I),M=function(e){Object(x.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(k.a)(this,a),(n=t.call(this,e)).changeHandler=function(e){e.preventDefault(),n.setState(Object(y.a)({},e.target.name,e.target.value))},n.isValid=function(){var e=!0;return Object.values(n.state).forEach((function(t){if(!0===t)return e=!1})),e},n.clearForm=function(){n.setState({username:"",email:"",password:"",isRegistered:!1})},n.handleRequest1=function(e,t,a){R.a.post("http://127.0.0.1:8000/login/users/create",{user:{username:e,email:t,password:a}}).then((function(e){console.log(e),console.log(e.status+" "+e.statusText),n.setState({isRegistered:!0})})).catch((function(e){console.log(e)})),n.clearForm()},n.handleRequest2=function(e){R.a.post("http://127.0.0.1:8000/profile/add",{username:e}).then((function(e){console.log(e),console.log(e.status+" "+e.statusText)})).catch((function(e){console.log(e)}))},n.sendRegistration=function(e){e.preventDefault();var t=n.state,a=t.username,l=t.email,r=t.password;n.isValid()&&(n.handleRequest1(a,l,r),n.handleRequest2(a))},n.state={username:"",email:"",password:"",isRegistered:!1},n}return Object(O.a)(a,[{key:"render",value:function(){var e=this.state.isRegistered;return l.a.createElement("div",{className:"base-container",ref:this.props.containerRef},l.a.createElement("div",{className:"content"},l.a.createElement("div",{className:"image"},l.a.createElement("img",{alt:"icon",src:w.a})),l.a.createElement("div",{className:"form"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"username"},"Username"),l.a.createElement("input",{type:"text",name:"username",value:this.state.username,placeholder:"username",onChange:this.changeHandler})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"email"},"Email"),l.a.createElement("input",{type:"text",name:"email",value:this.state.email,placeholder:"email",onChange:this.changeHandler})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"password"},"Password"),l.a.createElement("input",{type:"password",name:"password",value:this.state.password,placeholder:"password",onChange:this.changeHandler})),e&&l.a.createElement("div",{className:"text"},l.a.createElement("h3",null,"Congratulations! You have successfully registered!")))),l.a.createElement("div",null,l.a.createElement("button",{type:"submit",className:"btn",onClick:this.sendRegistration},"Register")))}}]),a}(l.a.Component),T=a(195),A=function(e){Object(x.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(k.a)(this,a),(n=t.call(this,e)).handleRemoveToken=function(){localStorage.removeItem("token"),localStorage.removeItem("user_id"),localStorage.removeItem("username"),n.setState({isUserLoggedin:!1,isInactiveUser:!1,username:""})},n.handleLoginChange=function(e){n.setState(Object(y.a)({},e.target.name,e.target.value))},n.handleLogout=function(){n.handleRemoveToken()},n.handleLogin=function(e,t){e.preventDefault(),console.log(),fetch("http://127.0.0.1:8000/token-auth/",{crossDomain:!0,withCredentials:!0,async:!0,method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){console.log(e),localStorage.setItem("token",e.token),localStorage.setItem("user_id",e.user.id),localStorage.setItem("username",e.user.username),console.log(localStorage),n.setState({isUserLoggedin:!0,username:e.user.username})})).catch((function(e){console.log(e),n.setState({isInactiveUser:!0})}))},n.handelAlertOnClose=function(){n.setState({isInactiveUser:!1}),localStorage.removeItem("token")},n.state={isLogginActive:!0,isInactiveUser:!1,isUserLoggedin:!!localStorage.getItem("token"),username:""},n}return Object(O.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.rightSide.classList.add("right"),this.state.isUserLoggedin&&fetch("http://127.0.0.1:8000/login/current_user/",{method:"GET",headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(e){return e.json()})).then((function(t){e.setState({username:t.username})})).catch((function(e){return console.log(e)}))}},{key:"componentWillUnmount",value:function(){this.handleRemoveToken()}},{key:"changeState",value:function(){this.state.isLogginActive?(this.rightSide.classList.remove("right"),this.rightSide.classList.add("left")):(this.rightSide.classList.remove("left"),this.rightSide.classList.add("right")),this.setState((function(e){return{isLogginActive:!e.isLogginActive}}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.isLogginActive,n=t.isInactiveUser,r=t.isUserLoggedin,c=t.username,o=a?"Register":"Login",i=a?"login":"register";return l.a.createElement("div",null,l.a.createElement(p,{name:"login"}),l.a.createElement("div",null,n&&l.a.createElement(T.a,{variant:"danger",onClose:function(){return e.handelAlertOnClose()},dismissible:!0},l.a.createElement(T.a.Heading,null,"Oh snap! You got an error!"),l.a.createElement("p",null,"User does not exist"))),l.a.createElement("div",{className:"App"},l.a.createElement("div",{className:"login"},l.a.createElement("div",{className:"container",ref:function(t){return e.container=t}},l.a.createElement("div",null,a&&!r&&l.a.createElement(L,{containerRef:function(t){return e.current=t},isUserLoggedin:r,handleLogin:this.handleLogin,handleLoginChange:this.handleLoginChange,handleLogout:this.handleLogout,username:c}),!a&&!r&&l.a.createElement(M,{containerRef:function(t){return e.current=t}}),r&&[l.a.createElement("h2",{key:"greeting",className:"font"},"Hello ",this.state.username),l.a.createElement("div",{key:"logout"},l.a.createElement("button",{className:"btn",onClick:this.handleLogout},"Logout"))])),l.a.createElement(F,{current:o,currentActive:i,containerRef:function(t){return e.rightSide=t},onClick:this.changeState.bind(this)}))))}}]),a}(l.a.Component),F=function(e){return l.a.createElement("div",{className:"right-side",ref:e.containerRef,onClick:e.onClick},l.a.createElement("div",{className:"inner-container"},l.a.createElement("div",{className:"text"},e.current)))},_=A,q=a(189),D=a(90),H=a.n(D);var U=function(e){return l.a.createElement("div",null,l.a.createElement(H.a,{photo:e.photo,userName:e.userName,location:e.location,initialLikesCount:100,initialFollowingCount:200,initialFollowersCount:200}),l.a.createElement("div",{style:{margin:"20px 20px 10px 20px"}},"age: ",e.birthday),l.a.createElement("div",{style:{margin:"20px 20px 10px 20px"}},"gender: ",e.gender),l.a.createElement("div",{style:{margin:"10px 20px"}},"height: ",e.height),l.a.createElement("div",{style:{margin:"10px 20px"}},"weight: ",e.weight," lbs"),l.a.createElement("div",{style:{margin:"10px 20px"}},"dieting status: ",e.dieting_status),l.a.createElement("div",null,l.a.createElement(o.b,{to:"/edit"},l.a.createElement(S.a,{variant:"primary"},"Edit"))),l.a.createElement("div",null,l.a.createElement(S.a,{variant:"primary",onClick:e.handleDeletion},"CLose this account")))},G=function(e){Object(x.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(k.a)(this,a),(n=t.call(this,e)).handleRequest1=function(){R.a.post("http://127.0.0.1:8000/profile/delete",{username:"".concat(localStorage.getItem("username"))}).then((function(e){console.log(e),console.log(e.status+" "+e.statusText)})).catch((function(e){console.log(e)}))},n.handleRequest2=function(){R.a.post("http://127.0.0.1:8000/user/delete",{username:"".concat(localStorage.getItem("username"))}).then((function(e){console.log(e),console.log(e.status+" "+e.statusText)})).catch((function(e){console.log(e)}))},n.handleDeletion=function(){n.handleRequest1(),n.handleRequest2(),localStorage.removeItem("username"),localStorage.removeItem("user_id"),localStorage.removeItem("token")},n.state={isUserLoggedin:!!localStorage.getItem("user_id"),birthday:"",userName:"",gender:"",height:"",weight:"",dieting_status:""},n}return Object(O.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({userName:localStorage.getItem("username")}),this.state.isUserLoggedin&&R.a.post("http://127.0.0.1:8000/profile",{username:"".concat(localStorage.getItem("username"))}).then((function(t){console.log(t),console.log(t.status+" "+t.statusText);var a=t.data[0];e.setState({birthday:a.age,gender:a.gender,height:a.height,weight:a.weight,dieting_status:a.dieting_status})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=w.a,t=this.state,a=t.isUserLoggedin,n=t.userName,r=t.birthday,c=t.gender,o=t.height,i=t.weight,s=t.dieting_status;return l.a.createElement("div",null,l.a.createElement(p,{name:"profile"}),l.a.createElement("div",{className:"container-fluid mt-4"},l.a.createElement(q.a,{fluid:"md"},l.a.createElement(b.a,{style:{backgroundColor:"rgba(255, 255, 255, 0.8)",width:"60rem"}},l.a.createElement(b.a.Body,null,l.a.createElement(b.a.Title,null,"Card Title"),a&&l.a.createElement(U,{photo:e,userName:n,location:"Illinois, USA",birthday:r,gender:c,height:o,weight:i,dieting_status:s,handleDeletion:this.handleDeletion}),!a&&l.a.createElement(b.a.Text,null,"Please Login First"))))))}}]),a}(n.Component),B=a(191),P=function(e){Object(x.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(k.a)(this,a),(n=t.call(this,e)).handleSetState=function(e){Object.keys(e).forEach((function(t){null===e[t]?n.setState(Object(y.a)({},t,"")):n.setState(Object(y.a)({},t,e[t]))}))},n.isValid=function(){var e=!0;return Object.values(n.state).forEach((function(t){if(!0===t)return e=!1})),e},n.changeHandler=function(e){n.setState(Object(y.a)({},e.target.name,e.target.value))},n.handleCheckGender=function(e){console.log(e),n.setState({gender:e.target.name})},n.handleEdition=function(){var e=n.state,t=e.birthdate,a=e.gender,l=e.height,r=e.weight,c=e.dieting_status;n.isValid&&R.a.post("http://127.0.0.1:8000/profile/edit",{username:"".concat(localStorage.getItem("username")),age:t,gender:a,height:l,weight:r,dieting_status:c}).then((function(e){console.log(e),console.log(e.status+" "+e.statusText)})).catch((function(e){console.log(e)}))},n.state={isUserLoggedin:!!localStorage.getItem("username"),birthdate:"",gender:"",height:"",weight:"",dieting_status:""},n}return Object(O.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.state.isUserLoggedin&&R.a.post("http://127.0.0.1:8000/profile",{username:"".concat(localStorage.getItem("username"))}).then((function(t){console.log(t),console.log(t.status+" "+t.statusText);var a=t.data[0];e.handleSetState(a)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){console.log(this.state);var e=this.state,t=e.birthdate,a=e.height,n=e.weight,r=e.dieting_status;return l.a.createElement("div",null,l.a.createElement(p,{name:"profile"}),l.a.createElement("div",{className:"container-fluid mt-4"},l.a.createElement(q.a,{fluid:"md",style:{backgroundColor:"rgba(255, 255, 255, 0.8)",width:"60rem"}},l.a.createElement(B.a,null,l.a.createElement(B.a.Group,null,l.a.createElement(B.a.Label,null,"Age"),l.a.createElement(B.a.Control,{type:"text",name:"birthdate",placeholder:"Enter age",value:t,onChange:this.changeHandler})),l.a.createElement("div",{key:"inline-checkbox",className:"mb-3"},l.a.createElement(B.a.Check,{inline:!0,label:"Male",name:"male",type:"checkbox",id:"inline-checkbox-1",onChange:this.handleCheckGender.bind(this)}),l.a.createElement(B.a.Check,{inline:!0,label:"Female",name:"female",type:"checkbox",id:"inline-checkbox-2",onChange:this.handleCheckGender.bind(this)})),l.a.createElement(B.a.Group,null,l.a.createElement(B.a.Label,null,"Height"),l.a.createElement(B.a.Control,{type:"text",name:"height",placeholder:"Height",value:a,onChange:this.changeHandler})),l.a.createElement(B.a.Group,null,l.a.createElement(B.a.Label,null,"Weight"),l.a.createElement(B.a.Control,{type:"text",name:"weight",placeholder:"Weight",value:n,onChange:this.changeHandler})),l.a.createElement(B.a.Group,null,l.a.createElement(B.a.Label,null,"Dieting Status"),l.a.createElement(B.a.Control,{type:"text",name:"dieting_status",placeholder:"Dieting Status",value:r,onChange:this.changeHandler})),l.a.createElement(S.a,{variant:"primary",type:"submit",onClick:this.handleEdition.bind(this)},"Submit")))))}}]),a}(n.Component),W=function(e){Object(x.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(k.a)(this,a),(n=t.call(this,e)).changeHandler=function(e){n.setState(Object(y.a)({},e.target.name,e.target.value))},n.handleSubmit=function(){var e=n.state,t=e.ingredient,a=e.calorie;R.a.post("http://127.0.0.1:8000/ingredient/add",{name:t,calorie:a}).then((function(e){console.log(e),console.log(e.status+" "+e.statusText)})).catch((function(e){console.log(e)}))},n.state={ingredient:"",calorie:""},n}return Object(O.a)(a,[{key:"render",value:function(){var e=this.state,t=e.ingredient,a=e.calorie;return l.a.createElement("div",{className:"container-fluid mt-4"},l.a.createElement(q.a,{fluid:"md",style:{backgroundColor:"rgba(255, 255, 255, 0.8)",width:"60rem"}},l.a.createElement(B.a,null,l.a.createElement(B.a.Group,null,l.a.createElement(B.a.Label,null,"Ingredient"),l.a.createElement(B.a.Control,{type:"text",name:"ingredient",placeholder:"Enter ingredient name",value:t,onChange:this.changeHandler})),l.a.createElement(B.a.Group,null,l.a.createElement(B.a.Label,null,"Calorie"),l.a.createElement(B.a.Control,{type:"text",name:"calorie",placeholder:"Enter calorie",value:a,onChange:this.changeHandler})),l.a.createElement(S.a,{variant:"primary",type:"submit",onClick:this.handleSubmit.bind(this)},"Submit"))))}}]),a}(l.a.Component),Y=a(31),J=(a(152),a(83)),V=function(e){Object(x.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(k.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={showform:!1,text:""},e.toggleChange=function(){e.setState({showform:!e.state.showform})},e.handleChange=function(t){e.setState(Object(y.a)({},t.target.name,t.target.value))},e.handleRequest=function(){R.a.post("http://127.0.0.1:8000/calculator",{ingredient:e.state.text}).then((function(t){console.log(t),console.log(t.status+" "+t.statusText),e.props.onsubmit({id:J.generate(),text:e.state.text,calorie:parseInt(t.data[0].calorie)})})).catch((function(e){console.log(e)}))},e.handleSubmit=function(t){t.preventDefault(),e.handleRequest(),e.setState({text:""})},e}return Object(O.a)(a,[{key:"render",value:function(){return!1===this.state.showform?l.a.createElement(l.a.Fragment,null,l.a.createElement("form",{onClick:this.toggleChange},l.a.createElement("button",{type:"button",className:"btn btn-success"},"Add Ingredient"))):l.a.createElement(l.a.Fragment,null,l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Ingredient:"),l.a.createElement("input",{name:"text",value:this.state.text,onChange:this.handleChange,className:"form-control",id:"email"})),l.a.createElement("button",{onSubmit:this.handleSubmit,className:"btn btn-info mr-2"},"Save"),l.a.createElement("button",{onClick:this.toggleChange,className:"btn btn-danger"},"Cancel")))}}]),a}(n.Component),z=(a(161),a(63)),Q=a(94),$=a(95);function K(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("tr",null,l.a.createElement("td",null,e.meal.text),l.a.createElement("td",null,e.meal.calorie),e.showTab&&l.a.createElement("td",null,l.a.createElement(z.b,{onClick:e.onDelete,className:"mr-4"}),l.a.createElement(z.a,null)),e.showMenuAddTab&&l.a.createElement("td",null,l.a.createElement(Q.a,{onClick:e.onMenuAdd,className:"mr-4 button"})),e.showMenuDeleteTab&&l.a.createElement("td",null,l.a.createElement(z.b,{onClick:e.onMenuDelete,className:"mr-4 button"})),e.showLikeTab&&l.a.createElement("td",null,l.a.createElement($.a,{onClick:e.onAddLike,className:"mr-4 button"}))))}var X=a(83),Z=function(e){Object(x.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(k.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={showform:!1,text:"",calorie:""},e.toggleChange=function(){e.setState({showform:!e.state.showform})},e.handleChange=function(t){e.setState(Object(y.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.onsubmit({id:X.generate(),text:e.state.text,calorie:parseInt(e.state.calorie)}),e.setState({text:"",calorie:""})},e}return Object(O.a)(a,[{key:"render",value:function(){return!1===this.state.showform?l.a.createElement(l.a.Fragment,null,l.a.createElement("form",{onClick:this.toggleChange},l.a.createElement("button",{type:"button",className:"btn btn-success"},"Add Ingredient"))):l.a.createElement(l.a.Fragment,null,l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Ingredient:"),l.a.createElement("input",{name:"text",value:this.state.text,onChange:this.handleChange,className:"form-control",id:"email"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Quantity (gram)"),l.a.createElement("input",{name:"calorie",value:this.state.calorie,onChange:this.handleChange,type:"number",className:"form-control",id:"pwd"})),l.a.createElement("button",{onSubmit:this.handleSubmit,className:"btn btn-info mr-2"},"Save"),l.a.createElement("button",{onClick:this.toggleChange,className:"btn btn-danger"},"Cancel")))}}]),a}(n.Component),ee=function(e){Object(x.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(k.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={meals:[]},e.addMeal=function(t){e.setState({meals:[t].concat(Object(Y.a)(e.state.meals))})},e.onDelete=function(t){e.setState({meals:e.state.meals.filter((function(e){return e.id!==t}))})},e}return Object(O.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"jumbotron"},l.a.createElement("h2",null,"Calorie Counter"),l.a.createElement("hr",null),l.a.createElement(V,{onsubmit:this.addMeal}),l.a.createElement("table",{className:"table table-striped"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Ingredients"),l.a.createElement("th",null,"Calories"),l.a.createElement("th",null))),l.a.createElement("tbody",null,this.state.meals.map((function(t){return l.a.createElement(K,{key:t.text,meal:t,onDelete:function(){return e.onDelete(t.id)},showTab:!0})})),l.a.createElement("tr",null,l.a.createElement("td",null,"Total:"),l.a.createElement("td",null,l.a.createElement("span",{role:"img","aria-label":"apple"},"\ud83c\udf4e"),this.state.meals.reduce((function(e,t){return e+t.calorie}),0)),l.a.createElement("td",null))))))}}]),a}(n.Component),te=a(45),ae=(a(162),a(192)),ne=a(190),le=a(196),re=a(96),ce=(a(84),"http://127.0.0.1:8000/"),oe=function(e){Object(x.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(k.a)(this,a),(n=t.call(this,e)).state={meals:[],limitedMeals:[],selectedMeals:[],favMeals:[],favMealsCal:[],favMenuCal:[],countSelected:0,consumedCal:0,isInvalidCal:!1,calLimite:0,calLimiteAll:0,calLimiteFav:0},n.handleRequest1=function(){R.a.get(ce+"ingredient/get").then((function(e){console.log(e),console.log(e.status+" "+e.statusText),e.data[0].forEach((function(e){n.setState({meals:[{text:e.name,calorie:e.calorie}].concat(Object(Y.a)(n.state.meals))})}))})).catch((function(e){console.log(e)}))},n.handleRequest2=function(){R.a.post(ce+"ingredient/fav",{username:"".concat(localStorage.getItem("username"))}).then((function(e){console.log(e),console.log(e.status+" "+e.statusText),e.data[0].forEach((function(e){n.setState({favMeals:[{text:e.name,calorie:e.calorie}].concat(Object(Y.a)(n.state.favMeals))})}))})).catch((function(e){console.log(e)}))},n.handleRequest3=function(e){R.a.post(ce+"ingredient/check",{username:"".concat(localStorage.getItem("username")),consumedCal:e}).then((function(e){console.log(e),console.log(e.status+" "+e.statusText),e.data[0]?n.setState({consumedCal:e.data[0]}):(n.setState({isInvalidCal:!0}),console.log(e.data))})).catch((function(e){console.log(e)}))},n.handleRequest4=function(e){R.a.post(ce+"user/like",{username:"".concat(localStorage.getItem("username")),ingredient:e.text}).then((function(e){console.log(e),console.log(e.status+" "+e.statusText)})).catch((function(e){console.log(e)}))},n.handleRequest5=function(e){R.a.post(ce+"get_ingredient_with_calorie",{calorie:e,username:"".concat(localStorage.getItem("username"))}).then((function(e){console.log(e),console.log(e.status+" "+e.statusText),e.data[0].forEach((function(e){n.setState({favMealsCal:[{text:e.name,calorie:e.calorie}].concat(Object(Y.a)(n.state.favMealsCal))})}))})).catch((function(e){console.log(e)}))},n.handleRequest6=function(e){R.a.post(ce+"list_ingredient",{target:e,range:10}).then((function(e){console.log(e),console.log(e.status+" "+e.statusText),n.setState({limitedMeals:e.data})})).catch((function(e){console.log(e)}))},n.handleRequest7=function(e){R.a.post(ce+"list_ingredient_username",{target:e,range:10,username:"".concat(localStorage.getItem("username"))}).then((function(e){console.log(e),console.log(e.status+" "+e.statusText),n.setState({favMenuCal:e.data})})).catch((function(e){console.log(e)}))},n.handelAlertOnClose=function(){n.setState({isInvalidCal:!1})},n.handleSetCal=function(e){n.setState({calLimite:e.target.value})},n.handleSetCalAll=function(e){n.setState({calLimiteAll:e.target.value})},n.handleSetCalFav=function(e){n.setState({calLimiteFav:e.target.value})},n.handleFavClick=n.handleFavClick.bind(Object(te.a)(n)),n.handleIngClick=n.handleIngClick.bind(Object(te.a)(n)),n.state.isFav=!1,n}return Object(O.a)(a,[{key:"componentDidMount",value:function(){this.handleRequest1(),this.handleRequest3(0)}},{key:"handleFavClick",value:function(){this.state.isFav?this.setState({isFav:!1,favMeals:[]}):(this.setState({isFav:!0}),this.handleRequest2())}},{key:"handleIngClick",value:function(){this.setState({isFav:!1})}},{key:"handleOnMenuAdd",value:function(e){var t=this.state.countSelected+1;this.setState({selectedMeals:[].concat(Object(Y.a)(this.state.selectedMeals),[{id:t,text:e.text,calorie:e.calorie}]),countSelected:t})}},{key:"handleOnMenuDelete",value:function(e){var t=this.state.countSelected-1;this.setState({selectedMeals:this.state.selectedMeals.filter((function(t){return t.id!==e})),countSelected:t})}},{key:"handleOnSubmit",value:function(){var e=this.state.selectedMeals.reduce((function(e,t){return e+t.calorie}),0);this.setState({selectedMeals:[]}),this.handleRequest3(e)}},{key:"handleOnSet",value:function(){this.setState({favMealsCal:[]}),this.handleRequest5(this.state.calLimite)}},{key:"handleOnSetAll",value:function(){this.setState({limitedMeals:[]}),this.handleRequest6(this.state.calLimiteAll)}},{key:"handleOnSetFav",value:function(){this.setState({favMenuCal:[]}),this.handleRequest7(this.state.calLimiteFav)}},{key:"render",value:function(){var e,t,a=this,n=this.state.consumedCal,r=this.state,c=r.isInvalidCal,o=r.meals,i=r.calLimite,s=r.favMenuCal,u=r.calLimiteAll,m=r.calLimiteFav,d=r.favMeals,h=r.favMealsCal,g=r.limitedMeals,f=r.selectedMeals;return this.state.isFav?(e=l.a.createElement("tbody",null,d.map((function(e,t){return l.a.createElement(K,{key:t,meal:e,showMenuAddTab:!0,onMenuAdd:function(){return a.handleOnMenuAdd(e)}})}))),t=l.a.createElement("div",null,l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"You can choose Ingredients lower than entered calories from your favourites"),l.a.createElement("input",{name:"text",value:i,onChange:this.handleSetCal,className:"form-control",id:"calorie"}),l.a.createElement(S.a,{onClick:function(){return a.handleOnSet()}},"Set"),l.a.createElement("table",{className:"table table-striped"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Ingredients"),l.a.createElement("th",null,"Calories"),l.a.createElement("th",null))),l.a.createElement("tbody",null,h.map((function(e,t){return l.a.createElement(K,{key:t,meal:e,showMenuAddTab:!0,onMenuAdd:function(){return a.handleOnMenuAdd(e)}})}))))),l.a.createElement("hr",null),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"You will get recommended recipes lower than entered calories includeing your favourite ingredients"),l.a.createElement("input",{name:"text",value:m,onChange:this.handleSetCalFav,className:"form-control",id:"calorie"}),l.a.createElement(S.a,{onClick:function(){return a.handleOnSetFav()}},"Set"),l.a.createElement("table",{className:"table table-striped"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Ingredients"))),l.a.createElement("tbody",null,l.a.createElement(l.a.Fragment,null,s.map((function(e,t){return l.a.createElement("tr",{key:t},e.map((function(e,t){return l.a.createElement("td",{key:t},e)})))})))))))):(e=l.a.createElement("tbody",null,o.map((function(e,t){return l.a.createElement(K,{key:t,meal:e,showMenuAddTab:!0,showLikeTab:!0,onMenuAdd:function(){return a.handleOnMenuAdd(e)},onAddLike:function(){return a.handleRequest4(e)}})}))),t=l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"You will get recommended recipes lower than entered calories"),l.a.createElement("input",{name:"text",value:u,onChange:this.handleSetCalAll,className:"form-control",id:"calorie"}),l.a.createElement(S.a,{onClick:function(){return a.handleOnSetAll()}},"Set"),l.a.createElement("table",{className:"table table-striped"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Ingredients"))),l.a.createElement("tbody",null,l.a.createElement(l.a.Fragment,null,g.map((function(e,t){return l.a.createElement("tr",{key:t},e.map((function(e,t){return l.a.createElement("td",{key:t},e)})))}))))))),l.a.createElement("div",null,l.a.createElement(p,{name:"menu"}),l.a.createElement("div",null,c&&l.a.createElement(T.a,{variant:"danger",onClose:function(){return a.handelAlertOnClose()},dismissible:!0},l.a.createElement(T.a.Heading,null,"Oh snap! You got an error!"),l.a.createElement("p",null,"Stop drinking any more milk tea!"))),l.a.createElement("div",{className:"container-fluid mt-4"},l.a.createElement(q.a,{fluid:"md"},l.a.createElement("div",{className:"jumbotron"},l.a.createElement("h2",null,"Ingredients"),l.a.createElement("div",{className:"graph"},l.a.createElement("div",{className:"container"},l.a.createElement(re.a,{value:n/1500*100,text:"".concat(1500-n," cal")}))),l.a.createElement("hr",null),l.a.createElement("table",{className:"table table-striped"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Ingredients"),l.a.createElement("th",null,"Calories"),l.a.createElement("th",null))),l.a.createElement("tbody",null,f.map((function(e,t){return l.a.createElement(K,{key:t,meal:e,showMenuDeleteTab:!0,onMenuDelete:function(){return a.handleOnMenuDelete(e.id)}})})),l.a.createElement("tr",null,l.a.createElement("td",null,"Total:"),l.a.createElement("td",null,l.a.createElement("span",{role:"img","aria-label":"apple"},"\ud83c\udf4e"),f.reduce((function(e,t){return e+t.calorie}),0)),l.a.createElement("td",null)))),l.a.createElement(S.a,{onClick:function(){return a.handleOnSubmit()}},"Submit"),l.a.createElement(ne.a,null,l.a.createElement(le.a,{control:l.a.createElement(ae.a,{checked:this.state.isFav,onChange:this.handleFavClick}),label:"Favorite"})),l.a.createElement("hr",null),l.a.createElement("table",{className:"table table-striped"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Ingredients"),l.a.createElement("th",null,"Calories"),l.a.createElement("th",null))),e),l.a.createElement("hr",null),t))))}}]),a}(n.Component),ie=a(42),se=a.n(ie),ue=a(59),me=a(27),de=a(60),he=a.n(de),ge=function(e){var t=e.title,a=e.ingredients;return l.a.createElement("div",{className:he.a.recipe},l.a.createElement("h1",null,t),l.a.createElement("ol",null,a.map((function(e,t){return l.a.createElement("table",{key:t},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("th",null,e.name),l.a.createElement("th",null,e.quantity))))}))))},fe=(a(164),a(97)),Ee=function(){var e=Object(n.useState)([]),t=Object(me.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),o=Object(me.a)(c,2),i=o[0],s=o[1],u=Object(n.useState)(""),m=Object(me.a)(u,2),d=m[0],h=m[1],g=Object(n.useState)([]),f=Object(me.a)(g,2),E=f[0],v=f[1],b=Object(n.useState)(!1),S=Object(me.a)(b,2),C=S[0],y=S[1];Object(n.useEffect)((function(){O()}),[d]),Object(n.useEffect)((function(){k()}));var k=function(){R.a.post("http://127.0.0.1:8000/recipe/show",{username:"".concat(localStorage.getItem("username"))}).then((function(e){console.log(e),console.log(e.status+" "+e.statusText);var t=e.data[0];C||j(t)})).catch((function(e){console.log(e)}))},O=function(){var e=Object(ue.a)(se.a.mark((function e(){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:R.a.post("http://127.0.0.1:8080/recipe/search",{name:d}).then((function(e){console.log(e),console.log(e.status+" "+e.statusText);var t=e.data;x(t)})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(e){r(e)},j=function(e){v(e),y(!0)};return l.a.createElement("div",null,l.a.createElement(p,{name:"recipe"}),l.a.createElement("div",{className:"RecipeApp"},l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),h(i),s("")},className:"search-form"},l.a.createElement("input",{className:"search-bar",type:"text",value:i,onChange:function(e){s(e.target.value)}}),l.a.createElement("button",{className:"search-button",type:"submit"},"Search")),l.a.createElement("div",{className:"recipes"},E.map((function(e,t){return l.a.createElement("div",{key:t,className:he.a.recipe},l.a.createElement("ol",null,l.a.createElement("table",null,l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("th",null,e.recipe_name))),l.a.createElement(fe.a,null))))}))),l.a.createElement("div",{className:"recipes"},a.map((function(e,t){return l.a.createElement(ge,{key:t,title:d,ingredients:e})})))))},pe=function(e){Object(x.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(k.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={meals:[],name:""},e.addMeal=function(t){e.setState({meals:[t].concat(Object(Y.a)(e.state.meals))})},e.onDelete=function(t){e.setState({meals:e.state.meals.filter((function(e){return e.id!==t}))})},e.addRecipe=function(){var t={name:e.state.name,ingredients:[]};e.state.meals.map((function(e){t.ingredients.push({name:e.text,quantity:e.calorie})})),console.log(JSON.stringify(t)),e.handleRequest1(t),e.handleRequest2(t.name)},e.clear=function(){e.setState({name:"",meals:[]})},e.myChangeHandler=function(t){e.setState({name:t.target.value})},e.handleRequest1=function(e){R.a.post("http://127.0.0.1:8080/recipe/add",e).then((function(e){console.log(e),console.log(e.status+" "+e.statusText)})).catch((function(e){console.log(e)}))},e.handleRequest2=function(e){R.a.post("http://127.0.0.1:8000/recipe/add",{recipe_name:e,username:"".concat(localStorage.getItem("username"))}).then((function(e){console.log(e),console.log(e.status+" "+e.statusText)})).catch((function(e){console.log(e)}))},e}return Object(O.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement(p,{name:"home"}),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"jumbotron"},l.a.createElement("h2",null,"Recipe Adder"),l.a.createElement("hr",null),l.a.createElement("p",null,"Enter your recipe name"),l.a.createElement("input",{type:"text",value:this.state.name,onChange:this.myChangeHandler}),l.a.createElement("hr",null),l.a.createElement(Z,{onsubmit:this.addMeal}),l.a.createElement("table",{className:"table table-striped"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Ingredients"),l.a.createElement("th",null,"Quantity (gram)"),l.a.createElement("th",null))),l.a.createElement("tbody",null,this.state.meals.map((function(t){return l.a.createElement(K,{key:t.id,meal:t,showTab:!0,onDelete:function(){return e.onDelete(t.id)}})})),l.a.createElement("tr",null,l.a.createElement("td",null,"Total ingredients:"),l.a.createElement("td",null,this.state.meals.length),l.a.createElement("td",null)))),l.a.createElement("button",{type:"button",className:"btn btn-success",onClick:this.addRecipe},"Add Recipe"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("button",{type:"button",className:"btn btn-success",onClick:this.clear},"Clear Recipe"))))}}]),a}(n.Component),ve=a(68),be=a.n(ve),Se=function(e){var t=e.title,a=e.calories,n=e.image,r=e.ingredients;return l.a.createElement("div",{className:be.a.recipe},l.a.createElement("h1",null,t),l.a.createElement("ol",null,r.map((function(e){return l.a.createElement("li",null,e.text)}))),l.a.createElement("p",null,a),l.a.createElement("img",{className:be.a.image,src:n,alt:""}))},Ce=(a(165),function(){var e=Object(n.useState)([]),t=Object(me.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),o=Object(me.a)(c,2),i=o[0],s=o[1],u=Object(n.useState)("chicken"),m=Object(me.a)(u,2),d=m[0],h=m[1];Object(n.useEffect)((function(){g()}),[d]);var g=function(){var e=Object(ue.a)(se.a.mark((function e(){var t,a;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.edamam.com/search?q=".concat(d,"&app_id=").concat("4aa63c35","&app_key=").concat("fd775e6c1f3740a4d991b4a531137721"));case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,r(a.hits),console.log(a.hits);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return l.a.createElement("div",null,l.a.createElement(p,{name:"recipe online"}),l.a.createElement("div",{className:"OnlineRecipeApp"},l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),h(i),s("")},className:"search-form"},l.a.createElement("input",{className:"search-bar",type:"text",value:i,onChange:function(e){s(e.target.value)}}),l.a.createElement("button",{className:"search-button",type:"submit"},"Search")),l.a.createElement("div",{className:"recipes"},a.map((function(e){return l.a.createElement(Se,{key:e.recipe.label,title:e.recipe.label,calories:e.recipe.calories,image:e.recipe.image,ingredients:e.recipe.ingredients})})))))});var ye=function(){return l.a.createElement(o.a,null,l.a.createElement(i.c,null,l.a.createElement(i.a,{exact:!0,path:"/",component:C}),l.a.createElement(i.a,{path:"/login",component:_}),l.a.createElement(i.a,{path:"/profile",component:G}),l.a.createElement(i.a,{path:"/edit",component:P}),l.a.createElement(i.a,{path:"/ingredient",component:W}),l.a.createElement(i.a,{path:"/calculator",component:ee}),l.a.createElement(i.a,{path:"/menu",component:oe}),l.a.createElement(i.a,{path:"/recipe",component:Ee}),l.a.createElement(i.a,{path:"/add",component:pe}),l.a.createElement(i.a,{path:"/search",component:Ce})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(166);c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(ye,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},37:function(e,t,a){e.exports=a.p+"static/media/milktea.90f6f1ad.svg"},60:function(e,t,a){e.exports={recipe:"recipe_recipe__pq9B5",image:"recipe_image__2S0E0"}},68:function(e,t,a){e.exports={recipe:"recipe_recipe__38Hfz",image:"recipe_image__1sIyz"}},71:function(e,t,a){},85:function(e,t,a){e.exports=a.p+"static/media/p1.bd8c49e9.jpg"},86:function(e,t,a){e.exports=a.p+"static/media/p2.679ab11a.jpg"},87:function(e,t,a){e.exports=a.p+"static/media/p3.46d5369f.jpg"}},[[101,1,2]]]);
//# sourceMappingURL=main.d149d979.chunk.js.map